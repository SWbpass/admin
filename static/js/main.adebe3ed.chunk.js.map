{"version":3,"sources":["logo.svg","authHttpMapper.js","LoginLogo.svg","pages/Login.js","components/VisitorsTable.js","pages/Main.js","App.js","reportWebVitals.js","index.js"],"names":["API_BASE_URL","getHttp","url","config","a","checkToken","then","axios","get","setTokens","accessToken","refreshToken","setAccessToken","cookie","load","defaults","headers","common","save","path","checkLoginStatus","undefined","Login","props","useState","id","setId","password","setPassword","signIn","post","role","catch","error","alert","response","data","message","responseData","history","push","onKeyPress","e","key","className","src","logo","alt","type","placeholder","onChange","target","value","disabled","onClick","VisitorsTable","moment","locale","scope","visits","map","visit","store","storeName","visitor","name","entryTime","format","tableContent","Main","setVisits","isLogin","setIsLogin","date","setStore","setVisitor","checkLogin","useEffect","res","visitLogs","class","disableClock","timezoneOffset","Date","getTimezoneOffset","qs","toISOString","qsParser","App","basename","process","href","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.adebe3ed.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.ac359950.svg\";","import axios from 'axios';\nimport cookie from 'react-cookies'\n\nexport const API_BASE_URL = \"https://b-pass.herokuapp.com\";\n\nexport const logout = async () => cookie.remove('accessToken');\n\nexport const getHttp = async (url, config) => {\n    return await checkToken()\n        .then(async () => {\n            return await axios.get(API_BASE_URL + url, config)\n            //.catch(error => { console.log('error : ', error.response.data) });\n        });\n\n};\n\nexport const postHttp = async (url, body, config) => {\n    return await checkToken()\n        .then(async () => {\n            return await axios.post(API_BASE_URL + url, body, config)\n            //.catch(error => { console.log('error : ', error.response.data) });\n        })\n};\n\nexport const putHttp = async (url, body, config) => {\n    return await checkToken()\n        .then(async () => {\n            return await axios.put(API_BASE_URL + url, body, config)\n            //.catch(error => { console.log('error : ', error.response.data) });\n        })\n};\n\nexport const deleteHttp = async (url, config) => {\n    return await checkToken()\n        .then(async () => {\n            return await axios.delete(API_BASE_URL + url, config)\n            //.catch(error => { console.log('error : ', error.response.data) });\n        });\n};\n\nexport const setTokens = async (accessToken, refreshToken) => {\n    setAccessToken(accessToken);\n};\n\nconst checkToken = async () => {\n    let accessToken = await cookie.load('accessToken');\n        axios.defaults.headers.common['Authorization'] = `Bearer ${accessToken}`;\n};\n\nconst setAccessToken = (accessToken) => {\n    cookie.save('accessToken', accessToken,\n        {\n            path: '/',\n            //secure: true\n            //httpOnly: true\n        });\n};\n\nexport const checkLoginStatus = async () => {\n    let accessToken = await cookie.load('accessToken');\n    return accessToken !== undefined;\n};","export default __webpack_public_path__ + \"static/media/LoginLogo.158e7baf.svg\";","import React, {useEffect, useState} from 'react';\nimport {API_BASE_URL, setTokens} from \"../authHttpMapper\";\nimport axios from \"axios\";\nimport logo from \"../LoginLogo.svg\";\n\nfunction Login(props) {\n\n    const [id, setId] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const onChangeId = e => setId(e.target.value);\n    const onChangePawword = e => setPassword(e.target.value);\n    const signIn = async () => {\n        let responseData = await axios.post(API_BASE_URL+'/auth/signin', {\n            id: id,\n            password: password,\n            role: \"ROLE_ADMIN\"\n        }).catch(error => {\n            alert(error.response.data.message)\n        });\n        if (responseData !== undefined) {\n            await setTokens(responseData.data.accessToken);\n\n            props.history.push('/')\n        }\n    };\n\n    const onKeyPress = (e) => {\n        if (e.key === 'Enter') signIn();\n    }\n\n    return (\n        <div className=\"App\">\n            <img src={logo} alt={logo}/>\n            <div className=\"form-group\">\n                <input type=\"email\" className=\"form-control\" placeholder=\"아이디 입력\" onChange={onChangeId} onKeyPress={onKeyPress}></input>\n                <input className=\"form-control\" placeholder=\"비밀번호 입력\" type='password' onChange={onChangePawword} onKeyPress={onKeyPress} ></input>\n                <button type=\"button\" className=\"btn btn-primary btn-lg\" disabled={id === '' || password === ''} onClick={signIn}>로그인</button>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;\n","import React from 'react';\nimport 'moment/locale/ko';\nimport moment from \"moment\"\n\nfunction VisitorsTable(props) {\n    moment.locale(\"ko\")\n\n    function tableContent(visit) {\n        return (\n            <tr>\n                <th scope=\"row\">{visit.id}</th>\n                <td>{visit.store.storeName}</td>\n                <td>{visit.visitor.name}</td>\n                <td>{moment(visit.entryTime).format('YYYY년 MM월 DD일 hh시 mm분')}</td>\n                <td>{moment(visit.entryTime).format('YYYY년 MM월 DD일 hh시 mm분')}</td>\n            </tr>\n        )\n    }\n\n    return (\n        <table className=\"table\">\n            <thead>\n            <tr>\n                <th scope=\"col\">visitId</th>\n                <th scope=\"col\">장소</th>\n                <th scope=\"col\">방문자</th>\n                <th scope=\"col\">입장시간</th>\n                <th scope=\"col\">퇴장시간</th>\n            </tr>\n            </thead>\n            <tbody>\n            {props.visits.map(visit => tableContent(visit))}\n            </tbody>\n        </table>\n    )\n}\n\nexport default VisitorsTable;\n","import React, {useEffect, useState} from 'react';\nimport {checkLoginStatus, getHttp} from \"../authHttpMapper\";\nimport VisitorsTable from \"../components/VisitorsTable\";\nimport DateTimePicker from 'react-datetime-picker'\nimport \"./css/Main.css\"\n\nfunction Main(props) {\n    const [visits, setVisits] = useState([])\n    const [isLogin, setIsLogin] = useState(false)\n    const [date, onChange] = useState();\n    const [store, setStore] = useState(\"\");\n    const [visitor, setVisitor] = useState(\"\");\n    const onChangeStore = e => setStore(e.target.value);\n    const onChangeVisitor = e => setVisitor(e.target.value);\n\n    const checkLogin = async () => {\n        let status = await checkLoginStatus();\n        if (!status)\n            props.history.push(\"/login\")\n        else\n            setIsLogin(true)\n\n    };\n\n    useEffect(() => {\n        checkLogin()\n    }, [])\n\n    useEffect(() => {\n        if (isLogin)\n            getHttp(\"/visits\")\n                .then(res => {\n                    setVisits(res.data.visitLogs)\n                }).catch(error => {\n                alert(error.response)\n            });\n    }, [isLogin])\n\n    function qsParser() {\n        let timezoneOffset = new Date().getTimezoneOffset() * 60000;\n\n        let qs = \"\"\n        if (store !== \"\") {\n            qs = \"?storeName=\" + store // store만\n            if (visitor !== \"\") {\n                qs = qs + \"&visitorName=\" + visitor  // store, visit\n                if (date !== undefined) {\n                    qs = qs + \"&time=\" + new Date(date - timezoneOffset).toISOString()  // 다있어\n                }\n            } else {\n                if (date !== undefined) {\n                    qs = qs + \"&time=\" + new Date(date - timezoneOffset).toISOString() // store, date\n                }\n            }\n        } else {\n            if (visitor !== \"\") {\n                qs = \"?visitorName=\" + visitor // visit\n                if (date !== undefined) {\n                    qs = qs + \"&time=\" + new Date(date - timezoneOffset).toISOString()  // visit , date\n                }\n            } else {\n                if (date !== undefined) {\n                    qs = \"?time=\" + new Date(date - timezoneOffset).toISOString()  // date\n                }\n            }\n        }\n        return qs\n    }\n\n    function search() {\n\n        getHttp(\"/visits\" + qsParser())\n            .then(res => {\n                setVisits(res.data.visitLogs)\n            }).catch(error => {\n            alert(error.response)\n        });\n    }\n\n    return (\n        <div>\n            <br/>\n            <br/>\n            <h1>출입자 리스트</h1>\n            <br/>\n            <div class=\"searchCombo\">\n                <input className=\"form-control\" placeholder=\"방문장소명\" onChange={onChangeStore}></input>\n                <input className=\"form-control\" placeholder=\"방문자 이름\" onChange={onChangeVisitor}></input>\n                <DateTimePicker class=\"timepicker\" onChange={onChange} value={date} disableClock={true}/>\n                <button type=\"button\" className=\"btn btn-primary\" onClick={search}>조회하기</button>\n            </div>\n            <br/>\n            <VisitorsTable visits={visits}/>\n        </div>\n    );\n}\n\nexport default Main;\n","import './App.css';\nimport logo from './logo.svg';\nimport React from 'react';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport Login from \"./pages/Login\";\nimport Main from \"./pages/Main\";\n\nfunction App() {\n\n    return (\n        <Router basename={process.env.PUBLIC_URL}>\n            <nav className=\"navbar navbar-light bg-light\">\n                <a className=\"navbar-brand\" href=\"#\"> <img src={logo} alt={logo}/></a>\n            </nav>\n            <Switch>\n                <Route exact path='/' component={Main}/>\n                <Route path='/login' component={Login}/>\n            </Switch>\n        </Router>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}